CREATE DATABASE HOSPITAL;
USE HOSPITAL;
CREATE TABLE DOCTOR(
	DOCID VARCHAR(10) PRIMARY KEY,
    DOCNAME CHARACTER(40) NOT NULL,
    SPECIALITY CHARACTER(40) NOT NULL,
    YEAR_EXPERIENCE SMALLINT NOT NULL
);
INSERT INTO DOCTOR VALUES('D001','PRATIK DHAR','CHILD SPECIALIST',15);
INSERT INTO DOCTOR VALUES('D002','SHYAMAPRASAD MAJHI','HEART SPECIALIST',18);
INSERT INTO DOCTOR VALUES('D003','ADITYA HALDER','DERMATOLOGIST',14);
INSERT INTO DOCTOR VALUES('D004','RAMEN SHARMA','EYE SPECIALIST',15);
INSERT INTO DOCTOR VALUES('D005','ANUSHKA SARKAR','PSYCHIATRIST',16);

CREATE TABLE PATIENT(
	PATID VARCHAR(10) PRIMARY KEY,
    PATNAME CHARACTER(40) NOT NULL,
    GENDER CHARACTER(10) NOT NULL,
    AGE INT NOT NULL
);
INSERT INTO PATIENT VALUES('P001','TARUN JANA','MALE',12);
INSERT INTO PATIENT VALUES('P002','ANUPAMA CHOWDHURY','FEMALE',26);
INSERT INTO PATIENT VALUES('P003','ABHISHEK SEN','MALE',32);
INSERT INTO PATIENT VALUES('P004','RAJESH HALDER','MALE',29);
INSERT INTO PATIENT VALUES('P005','SURAJ PAL CHOWDHURY','MALE',34);
INSERT INTO PATIENT VALUES('P006','NATASHA RAY','FEMALE',27);

CREATE TABLE TREATS(
	DOCID VARCHAR(10) REFERENCES DOCTOR,
    PATID VARCHAR(10) REFERENCES PATIENT,
    TREATDATE DATE NOT NULL,
    DIAGNOSIS CHARACTER(40) NOT NULL,
    PRIMARY KEY(DOCID, PATID)
);
INSERT INTO TREATS VALUES('D001','P001','2023-12-24','THERAPY');
INSERT INTO TREATS VALUES('D004','P002','2023-12-27','OPERATION');
INSERT INTO TREATS VALUES('D002','P003','2023-12-27','SURGERY');
INSERT INTO TREATS VALUES('D003','P004','2023-12-28','OPERATION');
INSERT INTO TREATS VALUES('D005','P005','2023-12-25','BIOPSY');
INSERT INTO TREATS VALUES('D004','P006','2023-12-26','NORMAL TREATMENT');

SELECT * FROM DOCTOR;
SELECT * FROM PATIENT;
SELECT * FROM TREATS;

#FIND THE DETAILS OF ALL THE DOCTORS WHO ARE "HEART SPECIALIST"
SELECT * FROM DOCTOR WHERE SPECIALITY='HEART SPECIALIST';

#FIND THE PATIENTS WHO ARE ADMITTED FOR "OPERATION"
SELECT PATIENT.PATID,PATNAME FROM PATIENT,TREATS WHERE PATIENT.PATID=TREATS.PATID AND DIAGNOSIS='OPERATION';

#FIND THE PATIENTS WHOSE TREATMENT HAS BEEN DONE ON 27TH DECEMBER 2023
SELECT PATID,PATNAME FROM PATIENT WHERE PATID IN (SELECT PATID FROM TREATS WHERE TREATDATE='2023-12-27');

#FIND ALL THE FEMALE PATIENTS
SELECT PATID,PATNAME,GENDER FROM PATIENT WHERE GENDER='FEMALE';

#FIND THE EYE SPECIALIST WHO HAS EXPERIENCE MORE THAN 10 YEARS
SELECT * FROM DOCTOR WHERE SPECIALITY='EYE SPECIALIST' AND YEAR_EXPERIENCE>10;
