CREATE DATABASE BOAT;
USE BOAT;
CREATE TABLE SAILOR (
	SAILORID VARCHAR(10) PRIMARY KEY,
    SAILORNAME VARCHAR(40) NOT NULL,
    RATING INTEGER,
    AGE INTEGER
);
INSERT INTO SAILOR VALUES ('S001','RAMCHARAN',4,28);
INSERT INTO SAILOR VALUES ('S002','ANUSHKA',3,30);
INSERT INTO SAILOR VALUES ('S003','TARUN',3,29);
INSERT INTO SAILOR VALUES ('S004','RAMEN',4,30);
INSERT INTO SAILOR VALUES ('S005','ANUPAMA',3,32);
INSERT INTO SAILOR VALUES ('S006','RAJU',5,34);
INSERT INTO SAILOR VALUES ('S007','SOURYA',4,32);
INSERT INTO SAILOR VALUES ('S008','ABHISHEK',4,32);
INSERT INTO SAILOR VALUES ('S009','ARITRA',5,30);
INSERT INTO SAILOR VALUES ('S010','KOUSHIK',4,32);

CREATE TABLE BOAT (
	BOATID VARCHAR(10) PRIMARY KEY,
    BOATNAME VARCHAR(20) NOT NULL,
    COLOR CHARACTER(20) NOT NULL
);
INSERT INTO BOAT VALUES ('B001','MARQUISE','RED');
INSERT INTO BOAT VALUES ('B002','AQUAMARINE','NAVY BLUE');
INSERT INTO BOAT VALUES ('B003','AQUAHOLIC','GRAY');
INSERT INTO BOAT VALUES ('B004','CARPE DIEM','LIGHT GREEN');
INSERT INTO BOAT VALUES ('B005','OCEANIA','OCEAN BLUE');
INSERT INTO BOAT VALUES ('B006','MAVERICK','RED');
INSERT INTO BOAT VALUES ('B007','SERENITY','OLIVE GREEN');

CREATE TABLE RESERVE (
	SAILORID VARCHAR(10) NOT NULL,
    BOATID VARCHAR(10) NOT NULL,
    DATE DATE,
    DAY CHARACTER(10) NOT NULL,
    FOREIGN KEY(SAILORID) REFERENCES SAILOR(SAILORID),
    FOREIGN KEY(BOATID) REFERENCES BOAT(BOATID)
);
INSERT INTO RESERVE VALUES ('S001','B004','2024-06-07','FRIDAY');
INSERT INTO RESERVE VALUES ('S002','B004','2024-04-01','MONDAY');
INSERT INTO RESERVE VALUES ('S003','B003','2023-12-10','SUNDAY');
INSERT INTO RESERVE VALUES ('S004','B003','2023-12-07','THURSDAY');
INSERT INTO RESERVE VALUES ('S001','B001','2023-12-25','MONDAY');
INSERT INTO RESERVE VALUES ('S006','B005','2024-01-01','MONDAY');
INSERT INTO RESERVE VALUES ('S004','B002','2024-02-14','WEDNESDAY');
INSERT INTO RESERVE VALUES ('S006','B003','2024-01-18','THURSDAY');
INSERT INTO RESERVE VALUES ('S009','B002','2024-04-12','FRIDAY');
INSERT INTO RESERVE VALUES ('S002','B005','2024-07-07','SUNDAY');

SELECT * FROM SAILOR;
SELECT * FROM BOAT;
SELECT * FROM RESERVE;

#FIND THE COLOR OF THE BOAT RESERVED BY TARUN...
SELECT SAILORNAME,COLOR FROM SAILOR,BOAT,RESERVE WHERE SAILOR.SAILORID=RESERVE.SAILORID AND RESERVE.BOATID=BOAT.BOATID AND SAILORNAME='TARUN';

#FIND THE SAILOR IDS AND SAILOR NAMES WHO DID NOT RESERVE ANY BOAT...
SELECT SAILORID,SAILORNAME FROM SAILOR WHERE NOT EXISTS (SELECT BOATID FROM RESERVE WHERE SAILOR.SAILORID=RESERVE.SAILORID);

#FIND THE SAILOR IDS AND SAILOR NAMES WHO HAD RESERVED BOATS ON MONDAY...
SELECT SAILOR.SAILORID,SAILORNAME FROM SAILOR,RESERVE WHERE SAILOR.SAILORID=RESERVE.SAILORID AND DAY='MONDAY' ORDER BY SAILORID;

#LIST THE BOAT IDS AND BOAT NAMES FOR RED AND GREEN COLORS ONLY...
SELECT BOATID,BOATNAME,COLOR FROM BOAT WHERE COLOR LIKE '%RED' OR COLOR LIKE '%GREEN';
