CREATE DATABASE BANK;

CREATE TABLE BANK(
	BID VARCHAR(10) PRIMARY KEY,
	BANKNAME CHARACTER(40) NOT NULL,
	CITY CHARACTER(20) NOT NULL
);

CREATE TABLE CUSTOMER(
	CID VARCHAR(10) PRIMARY KEY,
	CNAME CHARACTER(40) NOT NULL,
	GENDER CHARACTER(10) NOT NULL
);

CREATE TABLE ACCOUNT(
	BID VARCHAR(10) REFERENCES BANK(BID),
	CID VARCHAR(10) REFERENCES CUSTOMER(CID),
	ACCOUNT_TYPE VARCHAR(20) NOT NULL,
	ACCOUNT_NO INT(11) NOT NULL,
	AMOUNT FLOAT NOT NULL,
	PRIMARY KEY(BID, CID, ACCOUNT_TYPE)
);

INSERT INTO BANK (BID,BANKNAME,CITY) VALUES
	('B001', 'STATE BANK OF INDIA', 'KOLKATA'), ('B002', 'CENTRAL BANK OF INDIA', 'KOLKATA'), ('B003', 'STATE BANK OF INDIA', 'MUMBAI'),
	('B004', 'INDIAN OVERSEAS BANK', 'PUNE'), ('B005', 'HDFC BANK', 'MUMBAI'), ('B006', 'CENTRAL BANK OF INDIA', 'CHENNAI'),
	('B007', 'BANK OF BARODA', 'CHENNAI'), ('B008', 'LOKMANGAL BANK OF MAHARASHTRA MAIN BRANCH', 'PUNE'), ('B009', 'BANK OF INDIA', 'MUMBAI');

INSERT INTO CUSTOMER (CID,CNAME,GENDER) VALUES
	('C001', 'TARUN DEY', 'MALE'), ('C002', 'ANKITA CHATTERJEE', 'FEMALE'), ('C003', 'RAMAKANTA ACHARYA', 'MALE'),
	('C004', 'TAPAN KUMAR JANA', 'MALE'), ('C005', 'SABIR NASKAR', 'MALE'), ('C006', 'SUPRITI HALDER', 'FEMALE'),
	('C007', 'AKASH SEN', 'MALE'), ('C008', 'SAYANI BANERJEE', 'FEMALE'), ('C009', 'RAMESH SAMANTA', 'MALE');

INSERT INTO ACCOUNT (BID,CID,ACCOUNT_TYPE,ACCOUNT_NO,AMOUNT) VALUES
	('B001','C004','SAVINGS',1803044556,50000.00), ('B004','C002','SAVINGS',1802455128,70000.00), ('B001','C007','SAVINGS',1808066345,44700.00),
	('B002','C001','SAVINGS',1802078225,45870.00), ('B007','C008','SAVINGS',1803622456,24400.00), ('B005','C008','SAVINGS',1807824596,20700.00),
	('B003','C003','SAVINGS',1703245568,28640.00), ('B007','C005','SAVINGS',1808022458,56200.00), ('B007','C004','SAVINGS',1804055886,42820.00),
	('B006','C003','SAVINGS',1808877625,18200.00), ('B009','C005','SAVINGS',1806022756,62400.00), ('B006','C004','SAVINGS',1802055668,32060.00);

SELECT * FROM BANK;
SELECT * FROM CUSTOMER;
SELECT * FROM ACCOUNT;

--Write a SQL Query to display the list of banks from 'Mumbai'...
SELECT * FROM BANK WHERE CITY = 'MUMBAI';

--Write a SQL Query to display the name of the city where the maximum number of customers reside...
SELECT CITY,COUNT(CID) AS "TOTAL COUNT" FROM BANK,ACCOUNT WHERE BANK.BID = ACCOUNT.BID GROUP BY BANK.BID ORDER BY COUNT(CID) DESC LIMIT 1;
